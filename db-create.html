<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<title></title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
		integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous" />
	<style>
		.btn-register {
			background-color: #000;
			border-radius: 5px;
			color: #fff;
			height: 40px;
			text-align: center;
			width: 150px;
		}
	</style>
</head>

<body class="container" style="padding-top: 50px;">
	<h2 class="text">
		ユーザー一覧登録
	</h2>

	<form id="registerForm">
		<div>
			<button type="submit" class="btn btn-register">
				登録
			</button>
		</div>
	</form>

	<script src="https://www.gstatic.com/firebasejs/3.7.4/firebase.js"></script>
	<script src="./js/constant.js"></script>

	<script>
		document
			.getElementById("registerForm")
			.addEventListener("submit", submitForm);

		function submitForm(e) {
			e.preventDefault();
			for (var i = 0; i < userList.length; i++) {
				var item = userList[i];
				registerUsers(item);
			}
			document.getElementById("registerForm").reset();
		}

		// Save user to firebase
		function registerUsers(item) {
			var newFirebaseRef = firebaseRef.push();
			newFirebaseRef.set({
				id: item.id,
				name: item.name,
				email: item.email,
				code: item.code,
				loginFlg: item.loginFlg
			});
		}
	</script>
</body>

</html>
